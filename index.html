<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot Sederhana</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .chat-container {
            width: 100%;
            max-width: 500px;
            height: 600px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 20px 20px 0 0;
        }

        .chat-header h1 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .chat-header p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
            background: #f8f9fa;
        }

        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            line-height: 1.4;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .bot-message {
            align-self: flex-start;
            background: white;
            border-bottom-left-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .user-message {
            align-self: flex-end;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border-bottom-right-radius: 5px;
        }

        .chat-input {
            display: flex;
            padding: 15px;
            background: white;
            border-top: 1px solid #eee;
        }

        #user-input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            outline: none;
            font-size: 1rem;
            transition: all 0.3s;
        }

        #user-input:focus {
            border-color: #4facfe;
            box-shadow: 0 0 0 2px rgba(79, 172, 254, 0.2);
        }

        #send-btn {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            margin-left: 10px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 0.2s;
        }

        #send-btn:hover {
            transform: scale(1.05);
        }

        .typing-indicator {
            display: none;
            align-self: flex-start;
            background: white;
            padding: 12px 16px;
            border-radius: 18px;
            border-bottom-left-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            font-style: italic;
            color: #666;
        }

        .typing-dots {
            display: inline-block;
        }

        .typing-dots span {
            animation: typing 1.4s infinite;
            display: inline-block;
        }

        .typing-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }

        @media (max-width: 600px) {
            .chat-container {
                height: 100vh;
                border-radius: 0;
            }
            
            .chat-header {
                border-radius: 0;
            }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h1>AssistantAI</h1>
            <p>Chatbot Sederhana - Siap Membantu Anda</p>
        </div>
        
        <div class="chat-messages" id="chat-messages">
            <div class="message bot-message">
                Halo! Saya AssistantAI. Ada yang bisa saya bantu hari ini?
            </div>
        </div>
        
        <div class="typing-indicator" id="typing-indicator">
            AssistantAI mengetik<span class="typing-dots"><span>.</span><span>.</span><span>.</span></span>
        </div>
        
        <div class="chat-input">
            <input type="text" id="user-input" placeholder="Ketik pesan Anda di sini..." autocomplete="off">
            <button id="send-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22,2 15,22 11,13 2,9"></polygon>
                </svg>
            </button>
        </div>
    </div>

    <script>
        // Database respons chatbot
        const responses = {
            'greeting': [
                "Halo! Ada yang bisa saya bantu?",
                "Hai! Senang berbicara dengan Anda!",
                "Halo! Bagaimana kabar Anda hari ini?"
            ],
            'farewell': [
                "Sampai jumpa! Semoga harimu menyenangkan!",
                "Selamat tinggal! Jangan ragu untuk bertanya lagi!",
                "Sampai jumpa lagi!"
            ],
            'thanks': [
                "Sama-sama! Senang bisa membantu!",
                "Dengan senang hati!",
                "Terima kasih kembali!"
            ],
            'how_are_you': [
                "Saya baik-baik saja, terima kasih! Bagaimana dengan Anda?",
                "Saya berfungsi dengan baik! Ada yang bisa saya bantu?",
                "Saya baik! Senang Anda bertanya!"
            ],
            'name': [
                "Saya AssistantAI, chatbot sederhana yang siap membantu Anda!",
                "Nama saya AssistantAI. Senang berkenalan dengan Anda!",
                "Saya adalah AssistantAI, asisten virtual Anda."
            ],
            'help': [
                "Saya bisa membantu menjawab pertanyaan sederhana, menyapa, dan berinteraksi dengan Anda. Coba tanyakan sesuatu!",
                "Fungsi saya adalah sebagai chatbot percakapan. Anda bisa bertanya tentang berbagai hal atau sekadar mengobrol!",
                "Saya di sini untuk membantu! Anda bisa bertanya apa saja atau kita bisa mengobrol santai."
            ],
            'time': [
                `Sekarang jam ${new Date().toLocaleTimeString('id-ID')}`,
                `Waktu saat ini adalah ${new Date().toLocaleTimeString('id-ID')}`,
                `Menurut jam saya, sekarang pukul ${new Date().toLocaleTimeString('id-ID')}`
            ],
            'date': [
                `Hari ini tanggal ${new Date().toLocaleDateString('id-ID', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}`,
                `Sekarang ${new Date().toLocaleDateString('id-ID', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}`,
                `Kita berada di tanggal ${new Date().toLocaleDateString('id-ID')}`
            ],
            'default': [
                "Maaf, saya tidak mengerti pertanyaan Anda. Bisa diulangi dengan cara lain?",
                "Saya belum bisa memahami maksud Anda. Bisakah Anda menjelaskannya lebih detail?",
                "Mohon maaf, kemampuan saya masih terbatas. Bisa tolong ulangi pertanyaannya?"
            ]
        };

        // Pola kata kunci untuk mengenali intent
        const patterns = {
            'greeting': ['halo', 'hai', 'hi', 'hello', 'selamat pagi', 'selamat siang', 'selamat malam'],
            'farewell': ['bye', 'selamat tinggal', 'sampai jumpa', 'dadah', 'sampai nanti', 'dah'],
            'thanks': ['terima kasih', 'thanks', 'makasih', 'thank you'],
            'how_are_you': ['apa kabar', 'how are you', 'gimana kabarnya', 'bagaimana kabarmu'],
            'name': ['siapa namamu', 'what is your name', 'namamu siapa', 'kamu siapa'],
            'help': ['bisa apa', 'help', 'bantuan', 'tolong', 'fungsi', 'fitur'],
            'time': ['jam berapa', 'what time', 'pukul berapa', 'waktu'],
            'date': ['tanggal berapa', 'what date', 'hari apa', 'sekarang hari apa']
        };

        // Elemen DOM
        const chatMessages = document.getElementById('chat-messages');
        const userInput = document.getElementById('user-input');
        const sendBtn = document.getElementById('send-btn');
        const typingIndicator = document.getElementById('typing-indicator');

        // Fungsi untuk menambahkan pesan ke chat
        function addMessage(message, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
            messageDiv.textContent = message;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Fungsi untuk menampilkan indikator mengetik
        function showTypingIndicator() {
            typingIndicator.style.display = 'block';
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Fungsi untuk menyembunyikan indikator mengetik
        function hideTypingIndicator() {
            typingIndicator.style.display = 'none';
        }

        // Fungsi untuk menghasilkan respons chatbot
        function generateResponse(userMessage) {
            const message = userMessage.toLowerCase().trim();
            
            // Cari pola yang cocok
            for (const [intent, keywords] of Object.entries(patterns)) {
                for (const keyword of keywords) {
                    if (message.includes(keyword)) {
                        const possibleResponses = responses[intent];
                        return possibleResponses[Math.floor(Math.random() * possibleResponses.length)];
                    }
                }
            }
            
            // Jika tidak ada yang cocok, gunakan respons default
            const defaultResponses = responses['default'];
            return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
        }

        // Fungsi untuk menangani pengiriman pesan
        function handleSendMessage() {
            const message = userInput.value.trim();
            if (message === '') return;
            
            // Tambahkan pesan pengguna
            addMessage(message, true);
            userInput.value = '';
            
            // Tampilkan indikator mengetik
            showTypingIndicator();
            
            // Beri jeda untuk simulasi chatbot "mengetik"
            setTimeout(() => {
                hideTypingIndicator();
                const response = generateResponse(message);
                addMessage(response, false);
            }, 1000 + Math.random() * 1000); // Waktu respons acak antara 1-2 detik
        }

        // Event listeners
        sendBtn.addEventListener('click', handleSendMessage);
        
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleSendMessage();
            }
        });

        // Fokus ke input saat halaman dimuat
        userInput.focus();
    </script>
</body>
</html>
